/*!jQuery brackets*/
;var map={39:Array(39,39,0),34:Array(34,34,1),91:Array(91,93,0),123:Array(123,125,1),40:Array(40,41,0),60:Array(60,62,1),96:Array(96,96,0)};var pos={LEFT:0,RIGHT:1,MODIFIER:2};var key={BACKSPACE:8,TAB:9};var tabspec={TABSOFT:true,TABLENGTH:2};var tabstr={TAB_SOFT:Array(tabspec.TABLENGTH+1).join(" "),TAB_HARD:"	"};function getSelectionText(){var a="";if(window.getSelection){a=window.getSelection().toString()}else{if(document.selection&&document.selection.type!="Control"){a=document.selection.createRange().text}}return a}function doGetCaretPosition(c){var b=0;if(document.selection){c.focus();var a=document.selection.createRange();a.moveStart("character",-c.value.length);b=a.text.length}else{if(c.selectionStart||c.selectionStart=="0"){b=c.selectionStart}}return(b)}function setCaretPosition(b,c){if(b.setSelectionRange){b.focus();b.setSelectionRange(c,c)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",c);a.moveStart("character",c);a.select()}}}function typeInTextarea(b,e){var h=b.prop("selectionStart");var a=b.prop("selectionEnd");if(document.queryCommandSupported("insertText")){var c=document.createEvent("TextEvent");if(e==""){e=" "}c.initTextEvent("textInput",false,true,null,e,9,"en-US");b.focus();b.get(0).setSelectionRange(h,a);b.get(0).dispatchEvent(c);if(e!=" "){if(h==a&&map[e[0]]!=undefined){b.prop("selectionStart",h+e.length);b.prop("selectionEnd",a+e.length)}else{if(e==tabstr.TAB_SOFT||e==tabstr.TAB_HARD){setCaretPosition(b.get(0),h+e.length)}else{b.prop("selectionStart",h+1);b.prop("selectionEnd",a+1)}}b.focus()}}else{var g=b.val();var d=g.substring(0,h);var f=g.substring(a,g.length);b.val(d+e+f);b[0].selectionStart=h;b[0].selectionEnd=h+e.length;b.focus()}}(function(a){if(typeof exports==="object"){module.exports=a(require("jquery"))}else{if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}}(function(a){a("input,textarea").keypress(function(e){var c=e.shiftKey;var b=map[e.which];var h=getSelectionText();if(h==""){if(b==undefined){return true}else{var f=doGetCaretPosition(this);var g=a(this).val().substring(f-1,f);var d=a(this).val().substring(f,f+1);if((g==""||g==" ")&&(d==""||d==" ")){this.selectionStart=f;this.selectionEnd=f;typeInTextarea(a(this),String.fromCharCode(b[pos.LEFT])+String.fromCharCode(b[pos.RIGHT]));return false}}return true}if(b==undefined){return true}if(!c){if(b[pos.MODIFIER]==1){return true}}h=String.fromCharCode(b[pos.LEFT])+h+String.fromCharCode(b[pos.RIGHT]);typeInTextarea(a(this),h);return false}).keydown(function(b){var i=doGetCaretPosition(this);if(b.which==key.BACKSPACE){var f=a(this).val().substring(i-1,i).charCodeAt(0);var h=map[f];if(tabspec.TABSOFT){var e=a(this).val().substring(i-tabspec.TABLENGTH,i);if(e==tabstr.TAB_SOFT){this.selectionStart=i-tabspec.TABLENGTH;this.selectionEnd=i;this.setSelectionRange(this.selectionStart,this.selectionEnd);typeInTextarea(a(this),"")}}else{if(d==(tabstr.TAB_HARD)){this.selectionStart=i-1;this.selectionEnd=i+1;this.setSelectionRange(this.selectionStart,this.selectionEnd);typeInTextarea(a(this),"")}}if(h==undefined){return true}var c=a(this).val().substring(i-2,i-1);var d=a(this).val().substring(i-1,i-0);var j=a(this).val().substring(i+0,i+1);var g=a(this).val().substring(i+1,i+2);if(d==String.fromCharCode(h[pos.LEFT])&&j==String.fromCharCode(h[pos.RIGHT])&&(c==""||c==" ")&&(g==""||g==" ")){this.selectionStart=i-1;this.selectionEnd=i+1;this.setSelectionRange(i-1,i+1);typeInTextarea(a(this),"")}return true}else{if(b.which==key.TAB){if(getSelectionText()==""){this.selectionStart=i;this.selectionEnd=i}typeInTextarea(a(this),tabspec.TABSOFT?tabstr.TAB_SOFT:tabstr.TAB_HARD);return false}}})}));